<!DOCTYPE html>
<html dir="rtl">
<head>
<meta charset="UTF-8">
<title>Moon AI</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{background:#000;color:#fff;font-family:Arial}
.container{padding:15px;max-width:800px;margin:0 auto}
.header{text-align:center;margin:10px 0}
.logo{font-size:24px;color:#1DB954}
.stats{background:#222;padding:5px;border-radius:5px;margin:5px 0}
input{width:100%;padding:10px;background:#222;border:none;color:#fff;border-radius:5px;margin:5px 0}
.search-btn{
    width: 100%;
    padding: 10px;
    background: red;
    color: white;
    border: none;
    border-radius: 5px;
    margin: 5px 0;
    cursor: pointer;
    font-weight: bold;
}
.result{
    background:#222;
    padding:10px;
    margin:10px 0;
    border-radius:5px;
    display:flex;
    align-items:center;
    cursor: pointer;
    transition: 0.3s;
}
.result:hover{
    background:#333;
}
.thumb{width:120px;height:90px;margin-left:10px;border-radius:5px}
.info{flex:1}
.title{margin-bottom:5px;font-weight:bold}
.channel{color:#999;font-size:14px}
</style>
</head>
<body>
<div class="container">
    <div class="header">
        <div class="logo">Moon AI</div>
        <div class="stats">👥 <span id="users">0</span></div>
    </div>
    <input id="searchInput" placeholder="ابحث عن موسيقى...">
    <button onclick="search()" class="search-btn">بحث</button>
    <div id="results"></div>
</div>
<script>
const API_KEY = 'AIzaSyDAKDaUqtE1_Nw-J1QfJmf-QIz3c-d9m98';

‎// تحديث عدد المستخدمين
setInterval(() => {
    document.getElementById('users').textContent = 1500 + Math.floor(Math.random() * 100);
}, 5000);

‎// وظيفة البحث
async function search() {
    const query = document.getElementById('searchInput').value;
    if(query.length < 2) return;
    
    const results = document.getElementById('results');
    results.innerHTML = '<div style="text-align:center;padding:20px;">جاري البحث...</div>';
    
    try {

        const response = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&q=${query}&type=video&key=${API_KEY}&maxResults=15&regionCode=US`);
        const data = await response.json();
        
        if(data.items && data.items.length > 0) {
            results.innerHTML = data.items.map(video => `
                <div class="result" onclick="window.open('https://www.youtube.com/watch?v=${video.id.videoId}', '_blank')">
                    <img class="thumb" src="${video.snippet.thumbnails.medium.url}">
                    <div class="info">
                        <div class="title">${video.snippet.title}</div>
                        <div class="channel">${video.snippet.channelTitle}</div>
                    </div>
                </div>
            `).join('');
        } else {
            results.innerHTML = '<div style="text-align:center;padding:20px;">لم يتم العثور على نتائج</div>';
        }
    } catch(error) {
        results.innerHTML = '<div style="text-align:center;padding:20px;color:red;">حدث خطأ في البحث، حاول مرة أخرى</div>';
    }
}

// البحث عند الضغط على Enter
document.getElementById('searchInput').addEventListener('keypress', (e) => {
    if(e.key === 'Enter') search();
});

// البحث التلقائي بعد الكتابة
document.getElementById('searchInput').addEventListener('input', () => {
    clearTimeout(window.searchTimeout);
    window.searchTimeout = setTimeout(search, 1000);
});
</script>
</body>
</html>
