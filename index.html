<!DOCTYPE html>
<html dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MOON INSTA PRO</title>
<style>
body {
font-family: system-ui;
background: #000;
color: #fff;
margin: 0;
padding: 20px;
display: grid;
place-items: center;
min-height: 100vh;
}
.box {
background: #111;
padding: 20px;
border-radius: 10px;
width: 90%;
max-width: 500px;
}
input {
width: 100%;
padding: 10px;
border-radius: 5px;
border: 1px solid #333;
background: #000;
color: #fff;
margin: 10px 0;
}
.btns {
display: flex;
gap: 10px;
margin: 10px 0;
}
button {
flex: 1;
padding: 10px;
border: none;
border-radius: 5px;
cursor: pointer;
font-weight: bold;
}
.convert { background: #0f0; color: #000; }
.download { background: #f00; color: #fff; }
</style>
</head>
<body>
<div class="box">
<h2>MOON INSTA PRO</h2>
<input type="text" id="url" placeholder="رابط انستقرام..." dir="ltr">
<div class="btns">
<button onclick="convert()" class="convert">تحويل ⚡</button>
<button onclick="download()" class="download">تحميل 📥</button>
</div>
<div id="msg"></div>
</div>

<script>
let videoUrl = '';

async function convert() {
const url = document.getElementById('url').value;
const msg = document.getElementById('msg');

if(!url) {
msg.innerHTML = '⚠️ ضع الرابط';
return;
}

msg.innerHTML = '⏳ جاري التحويل...';

try {
const res = await fetch('https://instagram-downloader-api.p.rapidapi.com/media', {
method: 'POST',
headers: {
'content-type': 'application/json',
'X-RapidAPI-Key': '40804646fdmshcc60c6cca844058p1c00e7jsndc50f8457fa9',
'X-RapidAPI-Host': 'instagram-downloader-api.p.rapidapi.com'
},
body: JSON.stringify({url})
});

const data = await res.json();
videoUrl = data.url;
msg.innerHTML = '✅ تم التحويل';
} catch {
msg.innerHTML = '❌ فشل التحويل';
}
}

function download() {
if(!videoUrl) {
document.getElementById('msg').innerHTML = '⚠️ حول اولاً';
return;
}
window.open(videoUrl, '_blank');
}
</script>
</body>
</html>
