
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MoonHelper Chat</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
<style>
:root {
--primary: #7289da;
--dark: #23272a;
--light: #ffffff;
--bg: #2c2f33;
--accent: #99aab5;
}

* {
margin: 0;
padding: 0;
box-sizing: border-box;
font-family: system-ui;
}

body {
background: var(--dark);
color: var(--light);
}

/* Mobile First Design */
.container {
display: flex;
flex-direction: column;
height: 100vh;
}

/* Navigation Bar */
.nav-bar {
background: var(--bg);
padding: 15px;
display: flex;
justify-content: space-between;
align-items: center;
border-bottom: 1px solid rgba(255,255,255,0.1);
}

.nav-title {
font-size: 1.2em;
font-weight: bold;
}

.nav-controls {
display: flex;
gap: 10px;
}

/* Tabs System */
.tabs {
display: flex;
background: var(--bg);
padding: 10px;
gap: 10px;
overflow-x: auto;
-webkit-overflow-scrolling: touch;
}

.tab {
padding: 8px 15px;
background: rgba(255,255,255,0.1);
border-radius: 20px;
white-space: nowrap;
cursor: pointer;
}

.tab.active {
background: var(--primary);
}

/* Content Area */
.content-area {
flex: 1;
display: flex;
flex-direction: column;
overflow: hidden;
}

/* Video Grid */
.video-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
gap: 10px;
padding: 10px;
flex: 1;
overflow-y: auto;
background: var(--dark);
}

.video-container {
position: relative;
padding-top: 56.25%; /* 16:9 Aspect Ratio */
background: var(--bg);
border-radius: 8px;
overflow: hidden;
}

.video-container video {
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
object-fit: cover;
}

.video-controls {
position: absolute;
bottom: 0;
left: 0;
right: 0;
padding: 10px;
background: rgba(0,0,0,0.7);
display: flex;
justify-content: center;
gap: 10px;
}

/* Chat Area */
.chat-area {
display: none;

flex-direction: column;
height: 100%;
background: var(--bg);
}

.chat-area.active {
display: flex;
}

.messages {
flex: 1;
padding: 15px;
overflow-y: auto;
}

.message {
margin-bottom: 10px;
padding: 10px;
background: rgba(255,255,255,0.05);
border-radius: 8px;
animation: fadeIn 0.3s ease;
}

.message-header {
display: flex;
justify-content: space-between;
margin-bottom: 5px;
font-size: 0.9em;
color: var(--primary);
}

.chat-input {
padding: 15px;
background: rgba(0,0,0,0.2);
display: flex;
gap: 10px;
}

/* Controls */
button {
padding: 8px 15px;
border: none;
border-radius: 5px;
background: var(--primary);
color: white;
cursor: pointer;
display: flex;
align-items: center;
gap: 5px;
}

button:hover {
opacity: 0.9;
}

button.danger {
background: #f04747;
}

input[type="text"] {
flex: 1;
padding: 10px;
border: none;
border-radius: 5px;
background: rgba(255,255,255,0.1);
color: var(--light);
}

/* Lock Screen */
.lock-screen {
position: fixed;
top: 0;
left: 0;
right: 0;
bottom: 0;
background: rgba(0,0,0,0.95);
display: flex;
justify-content: center;
align-items: center;
z-index: 1000;
}

.unlock-btn {
font-size: 2em;
padding: 20px;
border-radius: 50%;
}

/* Animations */
@keyframes fadeIn {
from { opacity: 0; transform: translateY(10px); }
to { opacity: 1; transform: translateY(0); }
}

/* Media Queries */
@media (min-width: 768px) {
.container {
flex-direction: row;
}

.content-area {
flex: 2;
}

.chat-area {
flex: 1;
display: flex;
border-left: 1px solid rgba(255,255,255,0.1);
}

.mobile-tabs {
display: none;
}
}

/* Custom Scrollbar */
::-webkit-scrollbar {
width: 8px;
height: 8px;
}

::-webkit-scrollbar-track {
background: var(--bg);
}

::-webkit-scrollbar-thumb {
background: var(--primary);
border-radius: 4px;
}

/* User Status */
.user-status {
display: flex;
align-items: center;
gap: 5px;
padding: 8px;
background: rgba(255,255,255,0.05);
border-radius: 5px;
margin: 5px 0;
}

.status-dot {
width: 8px;
height: 8px;
border-radius: 50%;
background: #43b581;
}

</style>
</head>
<body>
<div id="lockScreen" class="lock-screen">
<button onclick="unlockScreen()" class="unlock-btn">
<i class="fas fa-lock"></i>
</button>
</div>

<div class="container">
<div class="nav-bar">
<div class="nav-title">MoonHelper Chat</div>
<div class="nav-controls">
<button onclick="toggleLock()">
<i class="fas fa-lock"></i>
</button>
<button onclick="toggleFullscreen()">
<i class="fas fa-expand"></i>
</button>
</div>
</div>

<div class="tabs">
<div class="tab active" onclick="switchTab('video')">
<i class="fas fa-video"></i> فيديو
</div>
<div class="tab" onclick="switchTab('chat')">
<i class="fas fa-comments"></i> شات
</div>
<div class="tab" onclick="switchTab('users')">
<i class="fas fa-users"></i> المتصلون
</div>
</div>

<div class="content-area">
<div id="videoArea" class="video-grid">
<!-- Video containers will be added here -->
</div>

<div id="chatArea" class="chat-area">
<div class="messages" id="messages">
<!-- Messages will be added here -->
</div>
<div class="chat-input">
<input type="text" placeholder="اكتب رسالتك..." id="messageInput">
<button onclick="sendMessage()">
<i class="fas fa-paper-plane"></i>
</button>
</div>
</div>

<div class="video-controls">
<button onclick="toggleVideo()">
<i class="fas fa-video"></i>
</button>
<button onclick="toggleAudio()">
<i class="fas fa-microphone"></i>
</button>
<button class="danger" onclick="leaveRoom()">
<i class="fas fa-phone-slash"></i>
</button>
</div>
</div>
</div>

<script>
let isLocked = false;
let isVideoOn = true;
let isAudioOn = true;

function toggleLock() {
isLocked = !isLocked;
document.getElementById('lockScreen').style.display = isLocked ? 'flex' : 'none';
}

function unlockScreen() {
isLocked = false;
document.getElementById('lockScreen').style.display = 'none';
}

function toggleFullscreen() {
if (!document.fullscreenElement) {
document.documentElement.requestFullscreen();
} else {
document.exitFullscreen();
}
}

function switchTab(tab) {

document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
document.querySelector(`.tab:contains('${tab}')`).classList.add('active');

// Hide all content areas
document.getElementById('videoArea').style.display = 'none';
document.getElementById('chatArea').style.display = 'none';

// Show selected content
if (tab === 'video') {
document.getElementById('videoArea').style.display = 'grid';
} else if (tab === 'chat') {
document.getElementById('chatArea').style.display = 'flex';
}
}

function toggleVideo() {
isVideoOn = !isVideoOn;
// Implement video toggle logic here
}

function toggleAudio() {
isAudioOn = !isAudioOn;
// Implement audio toggle logic here
}

function sendMessage() {
const input = document.getElementById('messageInput');
const message = input.value.trim();
if (message) {
addMessage('أنت', message);
input.value = '';
}
}

function addMessage(user, text) {
const messagesDiv = document.getElementById('messages');
const messageDiv = document.createElement('div');
messageDiv.className = 'message';
messageDiv.innerHTML = `
<div class="message-header">
<span>${user}</span>
<span>${new Date().toLocaleTimeString()}</span>
</div>
<div class="message-content">${text}</div>
`;
messagesDiv.appendChild(messageDiv);
messagesDiv.scrollTop = messagesDiv.scrollHeight;
}

// Handle Enter key in chat
document.getElementById('messageInput').addEventListener('keypress', (e) => {
if (e.key === 'Enter') {
sendMessage();
}
});

// Prevent screen lock on mobile
function keepScreenOn() {
if (navigator.wakeLock) {
navigator.wakeLock.request('screen')
.catch(err => console.log(err));
}
}

// Initialize
keepScreenOn();
</script>
</body>
</html>
